@model InvoiceViewModel

@{
    ViewData["Title"] = "InvoicePdf";
    int i = 1;
}

<style>

    .invoicetable {
        clear: both;
        border: 1px solid darkgray;
        border-collapse: collapse;
        margin: auto;
        width: 100%;
    }

    .invoicecell {
        background-color: white;
        color: black;
        border: 1px solid darkgray;
        /*padding: 5px;*/
    }
</style>

<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">

            </div>
            @*<div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item active">Invoice</li>
                    </ol>
                </div>*@
        </div>
    </div>
</section>

<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                @*<div class="callout callout-info">
                        <h5><i class="fas fa-info"></i> Note:</h5>
                        This page has been enhanced for printing. Click the print button at the bottom of the invoice to test.
                    </div>*@


                <!-- Main content -->
                <div class="invoice p-3 mb-3">
                    <!-- title row -->
                    <div class="row">
                        <div class="col-12">
                            SAIGONTOURIST TRAVEL SERVICE Co.,LTD.<br />
                            45 LE THANH TON STREET, HCM CITY, VIETNAM <br />
                            TEL : (848) 38230100/38230101/38298914 <br />
                            FAX : (848) 38224987/38225516
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- info row -->
                    <div class="row invoice-info">
                        <div class="col-sm-4 invoice-col">
                            @*From
                                <address>
                                    <strong>Admin, Inc.</strong><br>
                                    795 Folsom Ave, Suite 600<br>
                                    San Francisco, CA 94107<br>
                                    Phone: (804) 123-5432<br>
                                    Email: info@almasaeedstudio.com
                                </address>*@
                        </div>
                        <!-- /.col -->
                        <div class="col-sm-4 invoice-col">
                            @*To
                                <address>*@
                            <h1><strong>INVOICE</strong></h1><br>
                            @*795 Folsom Ave, Suite 600<br>
                                San Francisco, CA 94107<br>
                                Phone: (555) 539-1037<br>
                                Email: john.doe@example.com
                                                        </address>*@
                        </div>
                        <!-- /.col -->
                        <div class="col-sm-4 invoice-col">
                            @*<b>Invoice #007612</b><br>
                                <br>*@
                            <b>NO:</b> @Model.Invoice.Id<br>
                            <b>Date:</b> @Model.Invoice.Date.ToString("dd/MM/yyyy")<br>
                            <b>Code:</b> @Model.Invoice.Tour.Sgtcode
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                    <!-- Hang -->
                    <div class="row invoice-info">
                        CLIENT'S NAME : @Model.Invoice.Tour.TenKH<br />
                        ADDRESS : @Model.Invoice.Tour.DiaChi<br />
                        ARRIVAL : @Model.Invoice.Arr DEPARTURE : @Model.Invoice.Dep TOUR CODE : @Model.Invoice.Ref
                    </div>
                    <br />
                    <!-- / Hang -->
                    <!-- Table row -->
                    <div class="row">
                        <div class="col-12 table-responsive">
                            <table class="invoicetable ">
                                <thead>
                                    <tr>
                                        <th class="invoicecell text-center">No</th>
                                        <th class="invoicecell text-center">Description</th>
                                        <th class="invoicecell text-center">Number</th>
                                        <th class="invoicecell text-center">Unit Price</th>
                                        <th class="invoicecell text-center">Total (USD)</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in Model.CTInvoices)
                                    {
                                        var totalUSD = Convert.ToDecimal(item.Quantity) * item.UnitPrice;
                                        <tr>

                                            <td class="invoicecell text-center" >@i</td>
                                            <td class="invoicecell " >@item.Descript</td>
                                            <td class="invoicecell " >@(item.Quantity + item.Unit )</td>
                                            <td class="invoicecell text-right" >@item.UnitPrice</td>
                                            <td class="invoicecell text-right" >@totalUSD.ToString("N0")</td>
                                            
                                        </tr>
                                        i++;
                                    }
                                    @*<tr>
                                            <td class="invoicecell text-center" width="15%" >@Model.Invoice.Pax PAX</td>
                                            <td class="invoicecell " width="70%">@Html.Raw(Model.InvoicePrint.DienGiais)</td>
                                            <td class="invoicecell text-center" width="15%">@Html.Raw(Model.InvoicePrint.SoTiens)</td>
                                        </tr>*@

                                    <tr class="text-bold">
                                        <td class="invoicecell text-center">TOTAL </td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                        <td class="invoicecell text-center">@Model.CTInvoices.Sum(x => x.Amount).ToString("N0")</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                    <!-- accepted payments column -->
                    IN WORDS : <strong>@Model.SoTienBangChu.ToUpper()</strong>
                    <!-- /.col -->

                    <br />
                    <br />
                    PLEASE ASK YOUR BANK TO REMIT BY TELEGRAPHIC TRANSFER TO <br /> 
                    JOINT STOCK COMMERCIAL BANK FOR FOREIGN TRADE OF VIET NAM, HOCHIMINH CITY BRANCH <br />  
                    05 ME LINH SQUARE, BEN THANH WARD, 1ST DISTRICT, HCM CITY.<br />
                    PHONE (+84-8) 38297245, FAX : (+84-8) 38297228 <b> <br />
                    - SWIFT CODE: BFTVVNVX007 </b><br />
                    - ACC NAME: SAIGONTOURIST TRAVEL SERVICE Co., LTD.<br />
                    - ACC NO. <b> 0071370087213 </b> <br />
                    AND PLEASE SEND US A COPY OF YOUR BANK TRANSFER FOR OUR REFERENCE.
                    <br />
                    <!-- /.row -->
                    <div class="row">
                        <!-- accepted payments column -->
                        <div class="col-6 text-center">
                            CLIENT
                        </div>
                        <!-- /.col -->
                        <div class="col-6 text-center">
                            GENERAL DIRECTOR
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- this row will not appear when printing -->
                    <div class="row no-print">
                        <div class="col-12">
                            <a asp-action="InvoicePdfPrint" asp-route-id="@Model.Invoice.Id" asp-route-strUrl="@Model.StrUrl" target="_blank" class="btn btn-default"><i class="fas fa-print"></i> Print</a>
                            @*<button type="button" class="btn btn-success float-right">
                                    <i class="far fa-credit-card"></i> Submit
                                    Payment
                                </button>
                                <button type="button" class="btn btn-primary float-right" style="margin-right: 5px;">
                                    <i class="fas fa-download"></i> Generate PDF
                                </button>*@
                        </div>
                    </div>
                </div>
                <!-- /.invoice -->
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.container-fluid -->
</section>